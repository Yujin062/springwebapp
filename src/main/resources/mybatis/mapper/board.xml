<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.mycompany.springwebapp.dao.Ch13BoardDao">
   <insert id="insert" parameterType="Board">
	   	<selectKey keyProperty="bno" resultType="int" order="BEFORE">
	   		select seq_bno.nextval from dual
	   	</selectKey>
	     insert into board(bno, btitle, bcontent, mid, bdate, bhitcount)
	     values(#{bno}, #{btitle}, #{bcontent}, #{mid}, sysdate, 0)
   </insert>
   
   <select id="selectAll" resultType="Board">
         select bno, btitle, bcontent, mid, bdate, bhitcount, battachoname, battachsname, battachtype, battachdata
         from board
   </select>
   
   <select id="selectByBno" parameterType="int" resultType="Board">
         select bno, btitle, bcontent, mid, bdate, bhitcount, battachoname, battachsname, battachtype, battachdata
         from board
         where bno=#{bno}
   </select>
   
   <!-- sql실행해서 데이터를 전송할 때: parameterType, 데이터를 받을 때: resultType -->
   <update id="updateByBno" parameterType="Board">
   		update board set btitle=#{btitle}, bcontent=#{bcontent}
   		where bno=#{bno}
   </update>
   
   <delete id="deleteByBno" parameterType="int">
   		delete from board where bno=#{bno}
   </delete>
</mapper>

